<div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-md">
  <%= form_with(model: [:admin, @event], local: true, html: { multipart: true }) do |form| %>
    <% if @event.errors.any? %>
      <div class="mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded">
        <h2 class="font-semibold mb-2">Erreurs :</h2>
        <ul class="list-disc pl-5">
          <% @event.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mb-4">
      <%= form.label :title, 'Titre', class: 'block text-sm font-medium text-gray-700 mb-1' %>
      <%= form.text_field :title, class: 'block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm px-3 py-2' %>
    </div>

    <div class="mb-4">
      <%= form.label :description, 'Description', class: 'block text-sm font-medium text-gray-700 mb-1' %>
      <%= form.text_area :description, rows: 3, class: 'block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm px-3 py-2 resize-none' %>
    </div>

    <div class="flex gap-4 mb-4">
      <div class="flex-1">
        <%= form.label :date, 'Date', class: 'block text-sm font-medium text-gray-700 mb-1' %>
        <%= form.date_field :date, class: 'block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm px-3 py-2' %>
      </div>
      <div class="flex-1">
        <%= form.label :start_time, "Début", class: 'block text-sm font-medium text-gray-700 mb-1' %>
        <%= form.datetime_local_field :start_time, class: 'block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm px-3 py-2' %>
      </div>
      <div class="flex-1">
        <%= form.label :end_time, "Fin", class: 'block text-sm font-medium text-gray-700 mb-1' %>
        <%= form.datetime_local_field :end_time, class: 'block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm px-3 py-2' %>
      </div>
    </div>

    <div class="mb-4">
      <%= form.label :image, 'Image (optionnelle)', class: 'block text-sm font-medium text-gray-700 mb-1' %>
      <%= form.file_field :image, class: 'block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100' %>
      <% if @event.image.attached? %>
        <div class="mt-2">
          <%= image_tag @event.image, class: 'w-32 h-32 object-cover rounded shadow' %>
        </div>
      <% end %>
    </div>

    <div class="mt-6 text-center">
      <%= form.submit (@event.new_record? ? 'Créer événement' : 'Mettre à jour'), class: 'inline-block px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md shadow hover:bg-indigo-700 transition' %>
    </div>
  <% end %>
</div> 